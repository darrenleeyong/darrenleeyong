!function(t){"use strict";var i=t('<div id="lightbox"><div class="controls"><div class="galleryPrev ion-ios-arrow-left"></div><div class="galleryNext  ion-ios-arrow-right"></div><div class="galleryClose ion-ios-close-empty fa-2x"></div></div>');t(".lightbox").length&&t("body").append(i);var e=[],a=[],o=0;function n(e,a,o){var n,s=e,l=t('<div class="caption">'+o+"</div>");i.find(".lightbox-item").remove(),i.find(".caption").fadeOut(200,function(){t(this).remove()}),a.indexOf(".mp4")>-1&&(n=t('<video class="lightbox-item" autoplay loop data-index="'+s+'"><source src="'+a+'" type="video/mp4"></video>'),i.append(n).fadeIn(),setTimeout(function(){t(".lightbox-item").css({opacity:1,transform:"scale(1)"})},500)),a.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)&&RegExp.$1||a.match(/player\.vimeo\.com\/video\/([0-9]*)/)&&RegExp.$1?(n=t('<iframe class="lightbox-item" src="'+a+'" frameborder="0" allowfullscreen data-index="'+s+'"/></iframe>'),i.append(n).fadeIn(),setTimeout(function(){t(".lightbox-item").css({opacity:1,transform:"scale(1)"})},500)):n=(n=t('<img class="lightbox-item" src="'+a+'" data-index="'+s+'"/>')).load(function(){i.append(t(this)).fadeIn(),setTimeout(function(){n.css({opacity:1,transform:"scale(1)"})},500)}),o&&(i.append(l),l.delay(200).fadeIn())}t(".lightbox").each(function(){var i=t(this).attr("href"),s=t(this).attr("data-caption");e.push(i),a.push(s),t(this).attr("data-index",o),o++,t(this).on("click",function(e){e.stopImmediatePropagation(),n(t(this).attr("data-index"),i,s),e.preventDefault()})}),t("body").on("click",".galleryClose",function(e){i.fadeOut(500,function(){t(this).find(".lightbox-item").remove()})}),t("html").on("click","body",function(e){i.fadeOut(500,function(){t(this).find(".lightbox-item").remove()})}),t("html").on("click",".galleryNext, .galleryPrev",function(i){i.preventDefault(),i.stopImmediatePropagation();var o,s=parseInt(t(".lightbox-item").attr("data-index"));o=t(this).hasClass("galleryNext")?s+1:s-1,e.length==o&&(o=0),-1==o&&(o=e.length-1),t("#lightbox [data-index]").css({opacity:0,transform:"scale(.95)",transition:"opacity .3s, transform .3s"}),setTimeout(function(){t("#lightbox [data-index]").attr("data-index",o),n(o,e[o],a[o])},200)})}(jQuery);